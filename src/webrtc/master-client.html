<html>
    <head>
        <title>FoxQL</title>
    </head>
    <body>
        <script src = "https://cdn.jsdelivr.net/npm/foxql@latest/build/foxql.min.js"></script>
        <script>
            let client = foxql.client;
            
            client.pushEvents([
                'onSearch',
                'onDocument',
                'onRandom',
                'onDocumentByRef'
            ])

            client.openNativeCollections();

            client.open();


            setTimeout(() => {
                window.location.href = window.location.href
            }, (1000 * 60 * 60) * 12);


            setInterval(async ()=>{
                const req = await fetch('http://127.0.0.1:1923/pop');
                const doc = await req.json();
                if(doc.status == undefined) {
                    client.database.useCollection('webPage').addDoc(doc)
                }
            }, 1000);

        </script>
        <!-- FoxQL - Client -->
    </body>
</html>